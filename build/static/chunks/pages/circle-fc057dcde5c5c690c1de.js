(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[701],{1305:function(e,t,n){"use strict";var i=n(9497),r=n.n(i),s=n(5893);t.Z=function(e){var t=e.id,n=e.menuList,i=void 0===n?[]:n,c=e.selectIndex,l=void 0===c?0:c,a=e.menuItemClick;return(0,s.jsxs)("div",{id:t,className:r().contentLeftP,children:[(0,s.jsx)("div",{className:r().leftMenuListCheck,style:{top:5+40*l+"px"}}),(0,s.jsx)("ul",{className:r().leftMenuList,children:i.map((function(e,t){return(0,s.jsxs)("li",{onClick:function(){a&&a(t)},children:[(0,s.jsx)("span",{className:r().menuItem,style:{backgroundImage:"url("+e.image+")"},children:e.title}),(0,s.jsx)("span",{className:r().message,style:{visibility:e.num<=0?"hidden":"visible"},children:e.num})]},e.id)}))})]})}},2799:function(e,t,n){"use strict";var i=n(2854),r=n.n(i),s=n(1850),c=n(7294),l=n(5014),a=n(5893);t.Z=function(e){var t=e.descMaxLine,n=void 0===t?4:t,i=e.className,o=(0,s.TL)(),u=(0,s.CG)((function(e){return e.user})),d=u.isLogin,h=u.user,_=(0,c.useState)(!1),m=_[0],f=_[1];return(0,a.jsxs)("div",{className:[r().menuLeft,i].join(" "),children:[(0,a.jsxs)("div",{className:r().signUser,children:[(0,a.jsx)("img",{className:r().userHeader,src:null!==h&&void 0!==h&&h.avatar?null===h||void 0===h?void 0:h.avatar:"/static/images/default_user.png",alt:""}),(0,a.jsx)("span",{children:d&&null!==h&&void 0!==h&&h.nickname?null===h||void 0===h?void 0:h.nickname:"\u6e38\u5ba2\u8eab\u4efd"})]}),(0,a.jsx)("p",{className:r().userDesc,style:{WebkitLineClamp:n,maxLines:n},children:d?null===h||void 0===h?void 0:h.description:""}),d?(0,a.jsx)("span",{className:r().signBtn,style:{backgroundColor:m?"#F1F2F3":"#d9e8fc",color:m?"#BABDC3":"#3388FF"},onClick:function(){f(!m)},children:m?"\u5df2\u7b7e\u5230":"\u7b7e\u5230"}):(0,a.jsx)("span",{className:r().loginBtn,onClick:function(){o((0,l.Hu)(!0))},children:"\u767b\u5f55"})]})}},6584:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return V}});var i=n(5861),r=n(7757),s=n.n(r),c=n(8131),l=n(9270),a=n(5618),o=n(1163),u=n(7294),d=n(7007),h=n(5014),_=n(1850),m=n(1305),f=n(2799),v=n(4942),p=n(4746),g=n(373),x=n(4199),y=n(135),j=n(6922),C=n.n(j),b=n(5893);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var k=function(e){var t,n,i=e.selectIndex,r=e.itemClick,s=(0,_.CG)((function(e){return e.circle})).allCircleData,c=(0,_.TL)(),l=(0,_.CG)((function(e){return e.common})).circleType,a=(0,u.useState)(1),o=a[0],d=a[1],h=(0,u.useState)(null!==(t=null===(n=l[i])||void 0===n?void 0:n.id)&&void 0!==t?t:0),m=h[0],f=h[1];(0,u.useEffect)((function(){var e=document.getElementById("titleScroll");null!=e&&k(e)}),[]);function j(e,t,n){c((0,p.pe)({type:e,page:t,limit:n}))}function k(e){var t=document.getElementById("left"),n=document.getElementById("right");if(null!=t&&(t.style.visibility=e.scrollLeft<=10?"hidden":"visible"),null!=n){var i=e.scrollLeft+e.clientWidth+10>=e.scrollWidth;n.style.visibility=i?"hidden":"visible"}}function I(e){var t=document.getElementById("titleScroll");null!=t&&t.scrollBy({left:e?-300:300,behavior:"smooth"})}return(0,b.jsxs)("div",{className:C().contentBody,children:[(0,b.jsxs)("div",{className:C().header,children:[(0,b.jsx)("div",{id:"titleScroll",onScroll:function(e){k(e.target)},className:C().contentHeader,children:l.map((function(e,t){return(0,b.jsx)("span",{className:C().titleItem,style:{borderBottomColor:i===t?"#3388FF":"transparent",fontWeight:i===t?"bold":"normal",color:i===t?"#3388FF":"#637080"},onClick:function(){!function(e){i!=e&&(d(1),f(l[e].id),j(l[e].id,1,20),r&&r(e))}(t)},children:e.type},t)}))}),(0,b.jsx)("div",{id:"left",className:[C().scroolIcon,C().left].join(" "),onClick:function(){I(!0)}}),(0,b.jsx)("div",{id:"right",className:[C().scroolIcon,C().right].join(" "),onClick:function(){I(!1)}})]}),(0,b.jsxs)("div",{className:C().all_content,children:[s.list.length>0?s.list.map((function(e){return(0,b.jsx)(g.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,v.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),e.id)})):(0,b.jsx)(x.Z,{type:0}),(0,b.jsx)("div",{className:C().no_more,style:{display:s.list.length>0&&s.list.length<20?"block":"none"},children:"\u6ca1\u6709\u66f4\u591a\u4e86~"})]}),(0,b.jsx)(y.Z,{total:s.total,pageSize:20,showSizeChanger:!1,current:o,onChange:function(e,t){d(e),j(m,e,t)}})]})},I=n(5671),Z=n(3144),O=n(7326),B=n(9340),w=n(2963),S=n(1120),L=n(7551),M=n.n(L);function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,S.Z)(e);if(t){var r=(0,S.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,w.Z)(this,n)}}var E=function(e){(0,B.Z)(n,e);var t=P(n);function n(e){var i;return(0,I.Z)(this,n),i=t.call(this,e),(0,v.Z)((0,O.Z)(i),"state",{currentCarousel:0,translateList:[],animationStep:0}),(0,v.Z)((0,O.Z)(i),"timerID",void 0),(0,v.Z)((0,O.Z)(i),"children",u.Children.toArray(i.props.children)),i.handleCarouselBodyMouseOver=i.handleCarouselBodyMouseOver.bind((0,O.Z)(i)),i.handleCarouselBodyMouseOut=i.handleCarouselBodyMouseOut.bind((0,O.Z)(i)),i.handleCarouselFooterMouseOver=i.handleCarouselFooterMouseOver.bind((0,O.Z)(i)),i.renderIndicators=i.renderIndicators.bind((0,O.Z)(i)),i.getIndicatorsActive=i.getIndicatorsActive.bind((0,O.Z)(i)),i.handlerNext=i.handlerNext.bind((0,O.Z)(i)),i.handlerTransitionEnd=i.handlerTransitionEnd.bind((0,O.Z)(i)),i.handlerPre=i.handlerPre.bind((0,O.Z)(i)),i}return(0,Z.Z)(n,[{key:"componentWillUnmount",value:function(){this.stopCarousel()}},{key:"componentDidMount",value:function(){this.setState({animationStep:this.props.animationStep}),this.startCarousel()}},{key:"startCarousel",value:function(){var e=this;this.stopCarousel(),this.timerID=setInterval((function(){e.handlerCarousel("right")}),this.props.step)}},{key:"handlerCarousel",value:function(e){var t=1;"left"===e&&(t=-1),this.state.currentCarousel%(this.children.length+1)!==this.children.length&&this.state.currentCarousel>=0&&this.setState({currentCarousel:(this.state.currentCarousel+t)%(this.children.length+1),animationStep:this.props.animationStep})}},{key:"handlerTransitionEnd",value:function(){var e=this;this.state.currentCarousel%(this.children.length+1)===this.children.length?this.setState((function(e){return{animationStep:0,currentCarousel:0}})):this.state.currentCarousel<0&&this.setState((function(t){return{animationStep:0,currentCarousel:e.children.length-1}}))}},{key:"stopCarousel",value:function(){clearInterval(this.timerID)}},{key:"handleCarouselFooterMouseOver",value:function(e){this.setState({animationStep:this.props.animationStep,currentCarousel:e})}},{key:"handleCarouselBodyMouseOver",value:function(){this.stopCarousel()}},{key:"handleCarouselBodyMouseOut",value:function(){this.startCarousel()}},{key:"handlerNext",value:function(){this.handlerCarousel("right")}},{key:"handlerPre",value:function(){this.handlerCarousel("left")}},{key:"getIndicatorsActive",value:function(e){return this.state.currentCarousel===e||this.state.currentCarousel===e+this.children.length||this.state.currentCarousel<0&&e===this.children.length-1?M().active:""}},{key:"renderIndicators",value:function(){var e=this;return(0,b.jsx)("div",{className:M().carouselFooter,children:(0,b.jsx)("ul",{className:M().indicatorsContainer,children:this.children.map((function(t,n){var i=e.getIndicatorsActive(n);return(0,b.jsx)("li",{onMouseOver:function(){return e.handleCarouselFooterMouseOver(n)},className:[M().indicatorsItem,i].join(" ")},n)}))})})}},{key:"render",value:function(){var e=this;return(0,b.jsxs)("div",{className:M().carouselContainer,onMouseOver:this.handleCarouselBodyMouseOver,onMouseOut:this.handleCarouselBodyMouseOut,children:[(0,b.jsxs)("div",{className:M().carouselBody,onTransitionEnd:this.handlerTransitionEnd,style:{transition:"transform "+this.state.animationStep+"s",width:100*(this.children.length+2)+"%",transform:"translateX("+-100/(this.children.length+2)*(this.state.currentCarousel+1)+"%)"},children:[(0,b.jsx)("div",{className:M().carouselItem,style:{width:100/(this.children.length+2)+"%"},children:this.children[this.children.length-1]},"strat"),this.children.map((function(t,n){return(0,b.jsx)("div",{className:M().carouselItem,style:{width:100/(e.children.length+2)+"%"},children:t},n)})),(0,b.jsx)("div",{className:M().carouselItem,style:{width:100/(this.children.length+2)+"%"},children:this.children[0]},"end")]}),this.renderIndicators(),(0,b.jsxs)("div",{className:M().btnContainer,children:[(0,b.jsx)("div",{className:[M().btnDirection,M().pre].join(" "),onClick:this.handlerPre}),(0,b.jsx)("div",{className:[M().btnDirection,M().next].join(" "),onClick:this.handlerNext})]})]})}}]),n}(u.Component);(0,v.Z)(E,"defaultProps",{step:5e3,animationStep:1});var D=E,F=n(8838),T=n.n(F),H=n(701),A=function(){return(0,b.jsx)("div",{})},W=function(){var e=(0,_.CG)((function(e){return e.user})),t=e.user,n=e.isLogin,i=(0,d.I0)(),r=(0,u.useState)(0),s=r[0],c=r[1],l=(0,u.useState)(0),a=l[0],v=l[1],p=(0,o.useRouter)();return(0,b.jsxs)("div",{className:T().contentBody,children:[(0,b.jsxs)("div",{className:T().left,children:[(0,b.jsx)(f.Z,{descMaxLine:2,className:T().userCard}),(0,b.jsx)("div",{className:T().leftMenu,children:(0,b.jsx)(m.Z,{menuList:[{id:0,title:"\u5168\u90e8\u5708\u5b50",image:"/static/images/ico_circle_all.png",num:0},{id:1,title:"\u6211\u7684\u5e2e\u5708",image:"/static/images/ico_circle_my.png",num:0},{id:2,title:"\u6392\u884c\u699c",image:"/static/images/ico_circle_rank.png",num:0}],selectIndex:s,menuItemClick:function(e){s!==e&&c(e)}})})]}),(0,b.jsxs)("div",{className:T().center,children:[(0,b.jsx)("div",{className:T().banner,children:(0,b.jsx)(D,{children:[{image:"http://wyyhubang.oss-cn-chengdu.aliyuncs.com/default/default_banner1.png",link:"/"},{image:"http://wyyhubang.oss-cn-chengdu.aliyuncs.com/default/default_banner2.png",link:"/"},{image:"http://wyyhubang.oss-cn-chengdu.aliyuncs.com/default/default_banner3.png",link:"/"}].map((function(e,t){return(0,b.jsx)("a",{href:e.link,children:(0,b.jsx)("img",{src:e.image,width:"100%",height:"100%",alt:""})},t)}))})}),(0,b.jsx)("div",{className:T().content,children:1==s?(0,b.jsx)(H.Z,{id:null===t||void 0===t?void 0:t.id,showTitle:!0}):2==s?(0,b.jsx)(A,{}):(0,b.jsx)(k,{selectIndex:a,itemClick:function(e){v(e)}})})]}),(0,b.jsx)("div",{className:T().right,children:(0,b.jsxs)("div",{className:T().joinCircle,children:[(0,b.jsx)("img",{src:"/static/images/ico_join_circle_bg.png",width:"100%",alt:""}),(0,b.jsxs)("span",{className:T().joinHint1,children:["\u66f4\u591a",(0,b.jsx)("span",{className:T().hot,children:"\u70ed\u95e8"}),"\u5e2e\u5708\u7b49\u4f60\u52a0\u5165\uff01"]}),(0,b.jsx)("span",{className:T().joinHint,children:"\u5feb\u6765\u521b\u5efa\u81ea\u5df1\u7684\u5708\u5b50\u5427~"}),(0,b.jsx)("div",{className:T().createCircle,onClick:function(){n?p.push("/circle/create"):i((0,h.TX)())},children:(0,b.jsx)("span",{className:T().createText,children:"\u521b\u5efa\u5708\u5b50"})})]})})]})},G=n(9954),R=n.n(G),X=n(4700),U=function(){return(0,b.jsxs)(a.Z,{className:R().body,children:[(0,b.jsx)(l.Z,{page:3}),(0,b.jsx)(W,{}),(0,b.jsx)(c.Z,{})]})};U.getInitialProps=_.ZP.getInitialPageProps((function(e){return function(){var t=(0,i.Z)(s().mark((function t(n){var i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.req,t.next=3,Promise.all([e.dispatch((0,X.uY)({})),e.dispatch((0,p.pe)({type:1,page:1,limit:20})),e.dispatch((0,p.Uy)({page:1,limit:20,id:null===(i=e.getState().user.user)||void 0===i?void 0:i.id}))]);case 3:return t.abrupt("return",{});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}));var V=U},6154:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/circle",function(){return n(6584)}])},6922:function(e){e.exports={contentBody:"all_circle_contentBody__CNFnH",header:"all_circle_header__2zKt6",contentHeader:"all_circle_contentHeader__1EEgE",titleItem:"all_circle_titleItem__2ZGFI",scroolIcon:"all_circle_scroolIcon__2pbiG",left:"all_circle_left__kTXQv",right:"all_circle_right__3qJWk",all_content:"all_circle_all_content__38Ag-",no_more:"all_circle_no_more__ZAtLl"}},7551:function(e){e.exports={carouselContainer:"circle_banner_carouselContainer__1VmWJ",carouselBody:"circle_banner_carouselBody__2xMyN",carouselItem:"circle_banner_carouselItem__1kG0j",carouselFooter:"circle_banner_carouselFooter__3ILW_",indicatorsContainer:"circle_banner_indicatorsContainer__J3ErV",indicatorsItem:"circle_banner_indicatorsItem__2nvLF",active:"circle_banner_active__1L0xG",btnContainer:"circle_banner_btnContainer___94n_",btnDirection:"circle_banner_btnDirection__3xMOn",pre:"circle_banner_pre__2YTT3",next:"circle_banner_next__1wAyu"}},8838:function(e){e.exports={contentBody:"circle_content_contentBody__2G7Tr",left:"circle_content_left__3VSdx",userCard:"circle_content_userCard__1qeoP",leftMenu:"circle_content_leftMenu__2AQgj",center:"circle_content_center__1sRQ1",banner:"circle_content_banner__2tDf4",content:"circle_content_content__3mXl9",right:"circle_content_right__2UfpW",joinCircle:"circle_content_joinCircle__36INV",joinHint1:"circle_content_joinHint1__35KWw",hot:"circle_content_hot__1KZBt",joinHint:"circle_content_joinHint__3frNC",createCircle:"circle_content_createCircle__pLRzE",createText:"circle_content_createText__1MW5M"}},9954:function(e){e.exports={body:"Home_body__2ke2g"}},9497:function(e){e.exports={contentLeftP:"left_menu_widget_contentLeftP__1kHwd",leftMenuList:"left_menu_widget_leftMenuList___Hd5i",menuItem:"left_menu_widget_menuItem__2C9Hr",message:"left_menu_widget_message__1SCI6",leftMenuListCheck:"left_menu_widget_leftMenuListCheck__3tI8Y"}},2854:function(e){e.exports={menuLeft:"left_user_card_menuLeft__3JWkA",signUser:"left_user_card_signUser__2nDVV",userHeader:"left_user_card_userHeader__32bfX",userDesc:"left_user_card_userDesc__3S2au",signBtn:"left_user_card_signBtn__CLAf2",loginBtn:"left_user_card_loginBtn__16x19"}}},function(e){e.O(0,[366,350,774,888,179],(function(){return t=6154,e(e.s=t);var t}));var t=e.O();_N_E=t}]);